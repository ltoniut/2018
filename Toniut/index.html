<html>
    <head>
    </head>
    <body>
        <div id="app">
            <h1>Hay {{total}} persona/s</h1>
            <input type="text" v-model="persona.nombre" value="Pedro">
            <input type="number" v-model="persona.edad" value="">
            <select v-model="persona.sexo" name="sexo">
                <option value="m">Masculino</option>
                <option value="f">Femenino</option>
                <option value="o">Otros</option>
            </select>
            <button @click="agregar()">Agregar</button> <hr />

            <a>Seleccionar display:</a>
            <select v-model="seleccion" name="sexo">
                <option value="m">Masculino</option>
                <option value="f">Femenino</option>
                <option value="o">Otros</option>
            </select>
            <ul>
                <li v-for="(persona, index) in activas" :key="index">
                    <a @click="borrarPersona(persona.id)">{{ persona.nombre + ", " + persona.edad }}</a>
                </li>
            </ul>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
        <script>
            new Vue({
                el: "#app",
                data: {
                    idInicial: 0,
                    personas: [],
                    seleccion: "m",
                    persona: {
                        nombre: ""
                    }
                },
                computed: {
                    total() {
                        return this.personas.length;
                    },
                    activas: function() {
                        return this.personas.filter(persona => persona.sexo == this.seleccion);
                    }
                },
                methods: {
                    agregar() {
                        this.personas.push({
                            id: this.idInicial++,
                            nombre: this.persona.nombre,
                            edad: this.persona.edad,
                            sexo: this.persona.sexo
                        });

                        this.persona.nombre = "";
                        this.persona.edad = "";
                        this.persona.sexo = "";
                    },
                    borrarPersona(id) {
                        this.personas = this.personas.filter(persona => persona.id !== id);
                    }
                }
            });
        </script>
    </body>
</html>